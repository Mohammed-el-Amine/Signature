{% block content %}
    <h1 style="font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #333; text-align: center;">Cr√©ation de mot de passe</h1>

    <form action="{{ path('create_password', {'token': user.token}) }}" method="post" style="display: flex; flex-direction: column; align-items: center; margin-top: 20px;">
        {{ form_start(form) }}

        <div class="form-group" style="margin-bottom: 10px;">
            {{ form_label(form.password.first) }}
            <div class="password-input" style="position: relative;">
                {{ form_widget(form.password.first, {'attr': {'class': 'form-control', 'type': 'text', 'style': 'padding-right: 35px;'}}) }}
                <button type="button" class="show-password-btn" onclick="togglePasswordVisibility(this)" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; padding: 0; cursor: pointer;">Afficher</button>
            </div>
            {{ form_errors(form.password.first) }}
        </div>

        <div class="form-group" style="margin-bottom: 10px;">
            {{ form_label(form.password.second) }}
            <div class="password-input" style="position: relative;">
                {{ form_widget(form.password.second, {'attr': {'class': 'form-control', 'type': 'text', 'style': 'padding-right: 35px;'}}) }}
                <button type="button" class="show-password-btn" onclick="togglePasswordVisibility(this)" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; padding: 0; cursor: pointer;">Afficher</button>
            </div>
            {{ form_errors(form.password.second) }}
        </div>

        <button type="submit" class="btn btn-primary" style="padding: 8px 16px; font-size: 14px; border-radius: 4px; background-color: #007bff; border: none; color: #fff; cursor: pointer;">Modifier le mot de passe</button>

        {{ form_end(form) }}
    </form>

    <script>
        function togglePasswordVisibility(button) {
            const passwordInput = button.previousElementSibling;
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                button.textContent = 'Masquer';
            } else {
                passwordInput.type = 'password';
                button.textContent = 'Afficher';
            }
        }
    </script>
{% endblock %}
