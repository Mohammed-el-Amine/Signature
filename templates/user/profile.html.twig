{% extends 'base.html.twig' %}

{% block title %}Profil{% endblock %}

{% block body %}
  <h1>Profil</h1>

  {{ form_start(form) }}
  <div class="form-group">
    {{ form_label(form.email, 'Email') }}
    {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
  </div>
  <div class="form-group">
    {{ form_label(form.password, 'Mot de passe') }}
    <div class="input-group">
      {{ form_widget(form.password, {'attr': {'class': 'form-control', 'type': 'password'}}) }}
      <div class="input-group-append">
        <button type="button" class="btn btn-outline-secondary" onclick="togglePasswordVisibility()">Afficher</button>
      </div>
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Enregistrer</button>
  {{ form_end(form) }}

<h2>Formulaire de signature :</h2>
  <script>
    function togglePasswordVisibility() {
      const passwordInput = document.getElementById("{{ form.password.vars.id }}");
      const passwordButtonType = passwordInput.getAttribute("type");

      if (passwordButtonType === "password") {
        passwordInput.setAttribute("type", "text");
      } else {
        passwordInput.setAttribute("type", "password");
      }
    }
  </script>
{% endblock %}
